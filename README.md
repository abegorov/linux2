# Обновить ядро в базовой системе

1. С помощью **vagrant** поднимается машина с **32** ядрами **CPU** и **8 GiB** оперативной памяти (такая конфигурация выбрана для ускорения сборки ядра).
2. При запуске машины запускается скрипт **provision.sh**, который:

    - Ставит последнее ядро из репозитория [elrepo](https://www.elrepo.org/).
    - Устанавливает пакеты, необходимые для сборки ядра.
    - Скачивает последнее ванильное ядро версии **${LINUX_VER}** с [kernel.org](https://www.kernel.org).
    - Конфигурирует новое ядро, используя за основу конфигурацию ядра из [elrepo](https://www.elrepo.org/).
    - Собирает **RPM** пакеты для установки нового ядра.
    - Ставит **RPM** пакеты с новой версией ядра.
    - Обновляет **VirtualBox Guest Additions** (обновление необходимо, так как модули установленной версии не собираются для новых ядер).
    - Изменяет **timeout** в **GRUB** с 1 до 10 секунд и включает отображение меню.
    - Перезагружает виртуальную машину.
